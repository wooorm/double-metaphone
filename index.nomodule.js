(()=>{var S=/[AEIOUY]/,o=/W|K|CZ|WITZ/,H=/^(VAN |VON |SCH)/,R=/^(GN|KN|PN|WR|PS)/,N=/^CH(IA|EM|OR([^E])|YM|ARAC|ARIS)/,C=/ORCHES|ARCHIT|ORCHID/,O=/[ BFHLMNRVW]/,X=/[CGLRT]/,T=/Y[\s\S]|E[BILPRSY]|I[BELN]/,F=/^[DMR]ANGER/,J=/[EGIR]/,M=/[LTKSNMBZ]/,p=/AS|OS/,L=/EIM|OEK|OLM|OLZ/,h=/E[DMNR]|UY|OO/;function l(f){var r="",i="",e=0,E=f.length,k=E-1,K,A,b,s,t,a,c;for(f=String(f).toUpperCase()+"     ",K=o.test(f),A=H.test(f),c=f.split(""),R.test(f)&&e++,c[0]==="X"&&(r+="S",i+="S",e++);e<E;)switch(t=c[e-1],s=c[e+1],a=c[e+2],c[e]){case"A":case"E":case"I":case"O":case"U":case"Y":case"\xC0":case"\xCA":case"\xC9":e===0&&(r+="A",i+="A"),e++;break;case"B":r+="P",i+="P",s==="B"&&e++,e++;break;case"\xC7":r+="S",i+="S",e++;break;case"C":if(t==="A"&&s==="H"&&a!=="I"&&!S.test(c[e-2])&&(a!=="E"||(b=f.slice(e-2,e+4))&&(b==="BACHER"||b==="MACHER"))){r+="K",i+="K",e+=2;break}if(e===0&&f.slice(e+1,e+6)==="AESAR"){r+="S",i+="S",e+=2;break}if(f.slice(e+1,e+4)==="HIA"){r+="K",i+="K",e+=2;break}if(s==="H"){if(e>0&&a==="A"&&c[e+3]==="E"){r+="K",i+="X",e+=2;break}if(e===0&&N.test(f)){r+="K",i+="K",e+=2;break}A||C.test(f.slice(e-2,e+4))||a==="T"||a==="S"||(e===0||t==="A"||t==="E"||t==="O"||t==="U")&&O.test(a)?(r+="K",i+="K"):e===0?(r+="X",i+="X"):f.slice(0,2)==="MC"?(r+="K",i+="K"):(r+="X",i+="K"),e+=2;break}if(s==="Z"&&f.slice(e-2,e)!=="WI"){r+="S",i+="X",e+=2;break}if(f.slice(e+1,e+4)==="CIA"){r+="X",i+="X",e+=3;break}if(s==="C"&&!(e===1&&c[0]==="M"))if((a==="I"||a==="E"||a==="H")&&f.slice(e+2,e+4)!=="HU"){b=f.slice(e-1,e+4),e===1&&t==="A"||b==="UCCEE"||b==="UCCES"?(r+="KS",i+="KS"):(r+="X",i+="X"),e+=3;break}else{r+="K",i+="K",e+=2;break}if(s==="G"||s==="K"||s==="Q"){r+="K",i+="K",e+=2;break}if(s==="I"&&(a==="E"||a==="O")){r+="S",i+="X",e+=2;break}if(s==="I"||s==="E"||s==="Y"){r+="S",i+="S",e+=2;break}if(r+="K",i+="K",s===" "&&(a==="C"||a==="G"||a==="Q")){e+=3;break}e++;break;case"D":if(s==="G"){a==="E"||a==="I"||a==="Y"?(r+="J",i+="J",e+=3):(r+="TK",i+="TK",e+=2);break}if(s==="T"||s==="D"){r+="T",i+="T",e+=2;break}r+="T",i+="T",e++;break;case"F":s==="F"&&e++,e++,r+="F",i+="F";break;case"G":if(s==="H"){if(e>0&&!S.test(t)){r+="K",i+="K",e+=2;break}if(e===0){a==="I"?(r+="J",i+="J"):(r+="K",i+="K"),e+=2;break}if(b=c[e-2],b==="B"||b==="H"||b==="D"||(b=c[e-3],b==="B"||b==="H"||b==="D")||(b=c[e-4],b==="B"||b==="H")){e+=2;break}e>2&&t==="U"&&X.test(c[e-3])?(r+="F",i+="F"):e>0&&t!=="I"&&(r+="K",i+="K"),e+=2;break}if(s==="N"){e===1&&S.test(c[0])&&!K?(r+="KN",i+="N"):f.slice(e+2,e+4)!=="EY"&&f.slice(e+1)!=="Y"&&!K?(r+="N",i+="KN"):(r+="KN",i+="KN"),e+=2;break}if(f.slice(e+1,e+3)==="LI"&&!K){r+="KL",i+="L",e+=2;break}if(e===0&&T.test(f.slice(1,3))){r+="K",i+="J",e+=2;break}if(f.slice(e+1,e+3)==="ER"&&t!=="I"&&t!=="E"&&!F.test(f.slice(0,6))||s==="Y"&&!J.test(t)){r+="K",i+="J",e+=2;break}if(s==="E"||s==="I"||s==="Y"||(t==="A"||t==="O")&&s==="G"&&a==="I"){f.slice(e+1,e+3)==="ET"||A?(r+="K",i+="K"):(r+="J",i+=f.slice(e+1,e+5)==="IER "?"J":"K"),e+=2;break}s==="G"&&e++,e++,r+="K",i+="K";break;case"H":S.test(s)&&(e===0||S.test(t))&&(r+="H",i+="H",e++),e++;break;case"J":if(f.slice(e,e+4)==="JOSE"||f.slice(0,4)==="SAN "){f.slice(0,4)==="SAN "||e===0&&c[e+4]===" "?(r+="H",i+="H"):(r+="J",i+="H"),e++;break}e===0?(r+="J",i+="A"):!K&&(s==="A"||s==="O")&&S.test(t)?(r+="J",i+="H"):e===k?r+="J":t!=="S"&&t!=="K"&&t!=="L"&&!M.test(s)?(r+="J",i+="J"):s==="J"&&e++,e++;break;case"K":s==="K"&&e++,r+="K",i+="K",e++;break;case"L":if(s==="L"){if(e===E-3&&(t==="A"&&a==="E"||t==="I"&&(a==="O"||a==="A"))||t==="A"&&a==="E"&&(c[k]==="A"||c[k]==="O"||p.test(f.slice(k-1,E)))){r+="L",e+=2;break}e++}r+="L",i+="L",e++;break;case"M":(s==="M"||t==="U"&&s==="B"&&(e+1===k||f.slice(e+2,e+4)==="ER"))&&e++,e++,r+="M",i+="M";break;case"N":s==="N"&&e++,e++,r+="N",i+="N";break;case"\xD1":e++,r+="N",i+="N";break;case"P":if(s==="H"){r+="F",i+="F",e+=2;break}b=s,(b==="P"||b==="B")&&e++,e++,r+="P",i+="P";break;case"Q":s==="Q"&&e++,e++,r+="K",i+="K";break;case"R":e===k&&!K&&t==="E"&&c[e-2]==="I"&&c[e-4]!=="M"&&c[e-3]!=="E"&&c[e-3]!=="A"||(r+="R"),i+="R",s==="R"&&e++,e++;break;case"S":if(s==="L"&&(t==="I"||t==="Y")){e++;break}if(e===0&&f.slice(1,5)==="UGAR"){r+="X",i+="S",e++;break}if(s==="H"){L.test(f.slice(e+1,e+5))?(r+="S",i+="S"):(r+="X",i+="X"),e+=2;break}if(s==="I"&&(a==="O"||a==="A")){K?(r+="S",i+="S"):(r+="S",i+="X"),e+=3;break}if(s==="Z"||e===0&&(s==="L"||s==="M"||s==="N"||s==="W")){r+="S",i+="X",s==="Z"&&e++,e++;break}if(s==="C"){if(a==="H"){if(b=f.slice(e+3,e+5),h.test(b)){b==="ER"||b==="EN"?(r+="X",i+="SK"):(r+="SK",i+="SK"),e+=3;break}e===0&&!S.test(c[3])&&c[3]!=="W"?(r+="X",i+="S"):(r+="X",i+="X"),e+=3;break}if(a==="I"||a==="E"||a==="Y"){r+="S",i+="S",e+=3;break}r+="SK",i+="SK",e+=3;break}b=f.slice(e-2,e),e===k&&(b==="AI"||b==="OI")||(r+="S"),i+="S",s==="S"&&e++,e++;break;case"T":if(s==="I"&&a==="O"&&c[e+3]==="N"){r+="X",i+="X",e+=3;break}if(b=f.slice(e+1,e+3),s==="I"&&a==="A"||s==="C"&&a==="H"){r+="X",i+="X",e+=3;break}if(s==="H"||s==="T"&&a==="H"){A||(a==="O"||a==="A")&&c[e+3]==="M"?(r+="T",i+="T"):(r+="0",i+="T"),e+=2;break}(s==="T"||s==="D")&&e++,e++,r+="T",i+="T";break;case"V":s==="V"&&e++,r+="F",i+="F",e++;break;case"W":if(s==="R"){r+="R",i+="R",e+=2;break}if(e===0&&(S.test(s)?(r+="A",i+="F"):s==="H"&&(r+="A",i+="A")),(t==="E"||t==="O")&&s==="S"&&a==="K"&&(c[e+3]==="I"||c[e+3]==="Y")||f.slice(0,3)==="SCH"||e===k&&S.test(t)){i+="F",e++;break}if(s==="I"&&(a==="C"||a==="T")&&c[e+3]==="Z"){r+="TS",i+="FX",e+=4;break}e++;break;case"X":e===k&&t==="U"&&(c[e-2]==="A"||c[e-2]==="O")||(r+="KS",i+="KS"),(s==="C"||s==="X")&&e++,e++;break;case"Z":if(s==="H"){r+="J",i+="J",e+=2;break}else s==="Z"&&(a==="A"||a==="I"||a==="O")||K&&e>0&&t!=="T"?(r+="S",i+="TS"):(r+="S",i+="S");s==="Z"&&e++,e++;break;default:e++}return[r,i]}var n=document.querySelector("input"),G=document.querySelector("output");n.addEventListener("input",I);I();function I(){G.textContent=JSON.stringify(l(n.value))}})();
